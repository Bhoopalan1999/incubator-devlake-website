---
title: "Upgrade"
sidebar_position: 9
description: How to upgrade your Apache DevLake to a newer version
---


## Preknowledge

To upgrade an existing Apache Devlake instance to a newer version, there are 2 things have to be taken care of:

1. Migrate the database including table schema and records to the required state.
   Starting from [Release v0.10.0 Â· apache/incubator-devlake](https://github.com/apache/incubator-devlake/releases/tag/v0.10.0),
   The Db migration was introduced to upgrade the existing database automatically, normally you don't need to do anything for the database. However, keep in mind the migration is one-way only, **downgrade is not supported**. You must back up your database if safety is your concern.
2. Preserve your configuration.
   Configuration refers to the settings control or impact the application behavior, Apache DevLake reads
   and **writes** those settings from/to the `.env` file. A safe way to back up your configuration is to log into your `devlake` container and dump the file somewhere else. The file path in the container is `/app/.env` or `/app/config/.env` if you were using `helm`, unless the `ENV_PATH` Environment Variable was specified. 
   The most important setting of all is the `ENCODE_KEY` generated by the `devlake` on the first boot, it is used to encrypt sensitive information (tokens/secrets) in the database. It is crucial to preserve the key if you decided to deploy a new instance while keeping the existing database.

## Possible Approaches

### Approach 1: Update the image tags to a newer version

This is recommended way to upgrade your instance, it is the easiest way to go. However, the `docker-compose.yml` or `helm` might change over time, you may have to adopt these changes manually or opt for the next approach

### Approach 2: Deploy a new instance while keeping the configuration

1. Dump the `.env` file from the existing `devlake` container and shut it down
2. Fire up the new container with the `.env` file mounted to the correct path