---
title: "Upgrade"
sidebar_position: 9
description: How to upgrade your Apache DevLake to a newer version
---


## Preknowledge

To upgrade an existing Apache Devlake deployment to a newer version, please note two things:

1. Database migration.
   Starting from [Release v0.10.0 Â· apache/incubator-devlake](https://github.com/apache/incubator-devlake/releases/tag/v0.10.0),
   DevLake auto-migrates your table schema and records to the newer version. Normally you don't need to do anything for the migration. However, please keep in mind the migration is one-way only, **downgrade is not supported**. Please consider backing up your database if there's any data you'd like to keep.
2. Preserve your configuration.
   Configuration refers to the settings control or impact the application behavior, Apache DevLake reads
   and **writes** those settings from/to the `.env` file. A safe way to back up your configuration is to log into your `devlake` container and dump the file somewhere else. The file path in the container is `/app/.env` or `/app/config/.env` if you were using `helm`, unless the `ENV_PATH` Environment Variable was specified. 
   The most important setting of all is the `ENCODE_KEY` generated by the `devlake` on the first boot, it is used to encrypt sensitive information (tokens/secrets) in the database. It is crucial to preserve the key if you decided to deploy a new instance while keeping the existing database.

## Upgrade Options

### Option 1: Update the image tags to a newer version

This is recommended way to upgrade your instance, it is the easiest way to go. However, the `docker-compose.yml` or the `helm chart` might change over time (e.g., a new persistent volume is required for new feature to work properly), you may have to adopt these changes manually or opt for the next option.

### Option 2: Deploy a new instance while keeping the configuration

1. Dump the `.env` file from the existing `devlake` container and shut it down
2. Fire up the new container with the `.env` file mounted to the correct path